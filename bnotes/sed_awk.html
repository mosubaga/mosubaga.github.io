<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bash Scripting Guide - Introduction</title>
    <link href="styles/styles.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Hachi+Maru+Pop&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/srcery.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="logo">üêö Bash Scripting Guide</div>
            <ul class="nav-links">
                <li><a href="index.html" >Introduction</a></li>
                <li><a href="basic_syntax.html">Basic Syntax</a></li>
                <li><a href="control_flow.html">Control Flow</a></li>
                <li><a href="functions.html">Functions</a></li>
                <li><a href="sed_awk.html" class="active">Sed & Awk</a></li>
                <li><a href="best_practices.html">Best Practices</a></li>
                <li><a href="debugging.html">Debugging</a></li>
            </ul>
        </div>
    </nav>

    

    <main>
        <div class="hero">
            <h1>Sed & Awk</h1>
            <p>Master powerful text processing tools for stream editing and data manipulation</p>
        </div>

        <div class="card">
            <h2>Introduction to Sed</h2>
            <p>Sed (Stream Editor) is a powerful text-processing utility that performs editing operations on text streams or files. It's perfect for automated editing tasks, search and replace operations, and text transformation.</p>
            
            <div class="comparison">
                <div>
                    <h3>When to Use Sed</h3>
                    <ul>
                        <li>Simple find and replace</li>
                        <li>Delete lines</li>
                        <li>Insert/append text</li>
                        <li>Line-based operations</li>
                    </ul>
                </div>
                <div>
                    <h3>Basic Syntax</h3>
                    <p><code>sed [options] 'command' file</code></p>
                    <p><code>sed -i 's/old/new/g' file</code></p>
                </div>
            </div>
        </div>
        <br>
        <div class="card">
            <h2>Sed: Basic Operations</h2>
            
            <h3>Substitution (s command)</h3>
            <div class="code-example">
                <pre><code># Basic substitution
echo "hello world" | sed 's/world/universe/'
# Output: hello universe

# Global substitution (all occurrences)
echo "foo foo foo" | sed 's/foo/bar/g'
# Output: bar bar bar

# Case-insensitive substitution
echo "Hello WORLD" | sed 's/hello/hi/I'
# Output: hi WORLD

# Substitute on specific line
sed '3s/old/new/' file.txt

# Substitute on line range
sed '2,5s/old/new/g' file.txt</code></pre>
            </div>

            <h3>Delete (d command)</h3>
            <div class="code-example">
                <pre><code># Delete line 3
sed '3d' file.txt

# Delete lines 2-5
sed '2,5d' file.txt

# Delete last line
sed '$d' file.txt

# Delete lines matching pattern
sed '/pattern/d' file.txt

# Delete empty lines
sed '/^$/d' file.txt

# Delete lines starting with #
sed '/^#/d' file.txt</code></pre>
            </div>

            <h3>Print (p command)</h3>
            <div class="code-example">
                <pre><code># Print specific line (use -n to suppress default output)
sed -n '5p' file.txt

# Print line range
sed -n '10,20p' file.txt

# Print lines matching pattern
sed -n '/error/p' file.txt

# Print lines NOT matching pattern
sed -n '/error/!p' file.txt</code></pre>
            </div>
        </div>
        <br>
        <div class="card">
            <h2>Sed: Advanced Operations</h2>
            
            <h3>In-place Editing</h3>
            <div class="code-example">
                <pre><code># Edit file in-place
sed -i 's/old/new/g' file.txt

# Create backup before editing
sed -i.bak 's/old/new/g' file.txt

# Edit multiple files
sed -i 's/old/new/g' *.txt</code></pre>
            </div>

            <h3>Insert and Append</h3>
            <div class="code-example">
                <pre><code># Insert line before match
sed '/pattern/i\New line before' file.txt

# Append line after match
sed '/pattern/a\New line after' file.txt

# Insert at specific line number
sed '3i\New line' file.txt

# Append to end of file
sed '$a\Last line' file.txt</code></pre>
            </div>

            <h3>Multiple Commands</h3>
            <div class="code-example">
                <pre><code># Use -e for multiple commands
sed -e 's/foo/bar/g' -e 's/hello/hi/g' file.txt

# Use semicolon separator
sed 's/foo/bar/g; s/hello/hi/g' file.txt

# Use script file
cat << 'EOF' > script.sed
s/foo/bar/g
s/hello/hi/g
/^$/d
EOF
sed -f script.sed file.txt</code></pre>
            </div>

            <h3>Address Ranges</h3>
            <div class="code-example">
                <pre><code># From pattern to pattern
sed '/START/,/END/d' file.txt

# From pattern to line number
sed '/BEGIN/,10d' file.txt

# Every nth line
sed -n '1~2p' file.txt  # Print odd lines

# Last line
sed -n '$p' file.txt</code></pre>
            </div>
        </div>
        <br>
        <div class="card">
            <h2>Sed: Practical Examples</h2>
            
            <div class="example-box">
                <h3>üîß Configuration File Management</h3>
                <div class="code-example">
                    <pre><code># Change configuration value
sed -i 's/^DEBUG=.*/DEBUG=true/' config.sh

# Comment out a line
sed -i 's/^max_connections/# max_connections/' postgresql.conf

# Uncomment a line
sed -i 's/^# *\(max_connections\)/\1/' postgresql.conf

# Update port number
sed -i 's/port=[0-9]*/port=8080/' config.ini</code>
                </div>
            </div>

            <div class="example-box">
                <h3>üìù Log File Processing</h3>
                <div class="code-example">
                    <pre><code># Extract ERROR lines
sed -n '/ERROR/p' application.log

# Remove timestamps
sed 's/^[0-9]\{4\}-[0-9]\{2\}-[0-9]\{2\} [0-9:]\+ //' log.txt

# Keep only IP addresses
sed -n 's/.*\([0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\).*/\1/p' access.log</code></pre>
                </div>
            </div>

            <div class="example-box">
                <h3>üîÑ Text Transformation</h3>
                <div class="code-example">
                    <pre><code># Convert Windows line endings to Unix
sed -i 's/\r$//' file.txt

# Add line numbers
sed = file.txt | sed 'N;s/\n/\t/'

# Reverse lines (tac alternative)
sed '1!G;h;$!d' file.txt

# Double-space a file
sed 'G' file.txt</code></pre>
                </div>
            </div>
        </div>
        <br>
        <div class="card">
            <h2>Introduction to Awk</h2>
            <p>Awk is a powerful programming language designed for text processing and data extraction. It excels at processing columnar data, generating reports, and performing complex text manipulations.</p>
            
            <div class="comparison">
                <div>
                    <h3>When to Use Awk</h3>
                    <ul>
                        <li>Column-based data</li>
                        <li>Mathematical operations</li>
                        <li>Complex conditionals</li>
                        <li>Report generation</li>
                    </ul>
                </div>
                <div>
                    <h3>Basic Syntax</h3>
                    <p><code>awk 'pattern { action }' file</code></p>
                    <p><code>awk -F: '{ print $1 }' /etc/passwd</code></p>
                </div>
            </div>
        </div>
        <br>
        <div class="card">
            <h2>Awk: Basic Concepts</h2>
            
            <h3>Fields and Records</h3>
            <div class="code-example">
                <pre><code># $0 = entire line
# $1, $2, $3... = fields (columns)
# NF = number of fields
# NR = record (line) number

# Print first column
awk '{ print $1 }' file.txt

# Print last column
awk '{ print $NF }' file.txt

# Print line number and first field
awk '{ print NR, $1 }' file.txt

# Custom field separator
awk -F: '{ print $1 }' /etc/passwd</code></pre>
            </div>

            <h3>Pattern Matching</h3>
            <div class="code-example">
                <pre><code># Print lines matching pattern
awk '/error/ { print }' log.txt

# Print lines where column 3 > 100
awk '$3 > 100' data.txt

# Print lines where column 2 equals "active"
awk '$2 == "active" { print $1 }' status.txt

# Regex matching on specific field
awk '$1 ~ /^[0-9]+$/ { print }' file.txt

# NOT matching
awk '$2 !~ /test/ { print }' file.txt</code></pre>
            </div>
        </div>
        <br>
        <div class="card">
            <h2>Awk: Advanced Features</h2>
            
            <h3>BEGIN and END Blocks</h3>
            <div class="code-example">
                <pre><code># BEGIN executes before processing
# END executes after processing

awk 'BEGIN { print "Report Start" }
     { total += $1 }
     END { print "Total:", total }' numbers.txt

# Print header and footer
awk 'BEGIN { print "Name\tAge" }
     { print $1 "\t" $2 }
     END { print "---End---" }' data.txt</code></pre>
            </div>
            <br>
            <h3>Variables and Calculations</h3>
            <div class="code-example">
                <pre><code># Sum column values
awk '{ sum += $3 } END { print sum }' sales.txt

# Average
awk '{ sum += $1; count++ }
     END { print sum/count }' numbers.txt

# Count occurrences
awk '{ count[$1]++ }
     END { for (item in count) print item, count[item] }' data.txt

# Built-in variables
awk '{ print "Line", NR, "has", NF, "fields" }' file.txt</code></pre>
            </div>

            <h3>Conditional Statements</h3>
            <div class="code-example">
                <pre><code># If-else
awk '{ if ($3 > 100) 
           print $1, "high"
       else 
           print $1, "low" 
     }' data.txt

# Multiple conditions
awk '{ if ($2 == "active" && $3 > 50)
           print $1, "good"
       else if ($2 == "inactive")
           print $1, "offline"
       else
           print $1, "check"
     }' status.txt</code></pre>
            </div>

            <h3>Functions</h3>
            <div class="code-example">
                <pre><code># String functions
awk '{ print length($0) }' file.txt          # Length
awk '{ print toupper($1) }' file.txt         # Uppercase
awk '{ print tolower($1) }' file.txt         # Lowercase
awk '{ print substr($1, 1, 3) }' file.txt    # Substring

# Math functions
awk '{ print sqrt($1) }' numbers.txt         # Square root
awk '{ print int($1) }' numbers.txt          # Integer part

# String matching
awk '{ if (match($0, /[0-9]+/)) print }' file.txt</code></pre>
            </div>
        </div>
        <br>
        <div class="card">
            <h2>Awk: Practical Examples</h2>
            
            <div class="example-box">
                <h3>üìä Data Analysis</h3>
                <div class="code-example">
                    <pre><code># Calculate statistics
awk 'BEGIN { max = 0; min = 999999 }
     { 
       sum += $1
       if ($1 > max) max = $1
       if ($1 < min) min = $1
       count++
     }
     END {
       print "Count:", count
       print "Sum:", sum
       print "Average:", sum/count
       print "Max:", max
       print "Min:", min
     }' numbers.txt

# Group by column and sum
awk '{ sales[$1] += $2 }
     END { for (name in sales) 
           print name, sales[name] }' sales.txt</code></pre>
                </div>
            </div>

            <div class="example-box">
                <h3>üìã Report Generation</h3>
                <div class="code-example">
                    <pre><code># Format as table
awk 'BEGIN { printf "%-20s %-10s %10s\n", "Name", "Status", "Value" 
             print "-------------------------------------------" }
     { printf "%-20s %-10s %10.2f\n", $1, $2, $3 }
     END { print "===========================================" }' data.txt

# CSV to formatted output
awk -F, 'NR==1 { 
           for (i=1; i<=NF; i++) header[i]=$i
         }
         NR>1 {
           for (i=1; i<=NF; i++) print header[i]": "$i
           print "---"
         }' data.csv</code></pre>
                </div>
            </div>

            <div class="example-box">
                <h3>üîç Log Analysis</h3>
                <div class="code-example">
                    <pre><code># Count HTTP status codes
awk '{ status[$9]++ }
     END { for (code in status)
           print code, status[code] }' access.log

# Find top 10 IP addresses
awk '{ ip[$1]++ }
     END { for (addr in ip)
           print ip[addr], addr }' access.log | sort -rn | head -10

# Calculate average response time
awk '{ sum += $NF; count++ }
     END { print "Avg response:", sum/count, "ms" }' response.log</code></pre>
                </div>
            </div>
        </div>
        <br>
        <div class="card">
            <h2>Combining Sed and Awk</h2>
            <p>Sed and Awk work great together in pipelines:</p>
            
            <div class="code-example">
                <pre><code># Clean and process data
cat data.txt | \
    sed 's/[[:space:]]\+/ /g' | \    # Normalize spaces
    sed '/^$/d' | \                   # Remove empty lines
    awk '{ print $1, $2 }'            # Extract columns

# Extract and calculate
grep "SALE" transactions.log | \
    sed 's/.*amount=\([0-9.]*\).*/\1/' | \
    awk '{ sum += $1 } END { print "Total: $"sum }'

# Complex pipeline
cat access.log | \
    sed -n '/200 /p' | \              # Only successful requests
    awk '{ print $1, $7 }' | \        # IP and path
    sort | \
    uniq -c | \
    sort -rn | \
    head -20</code></pre>
            </div>
        </div>
        <br>
        <div class="card">
            <h2>Quick Reference</h2>
            
            <div class="comparison">
                <div>
                    <h3>Sed Commands</h3>
                    <ul>
                        <li><code>s/old/new/</code> - Substitute</li>
                        <li><code>d</code> - Delete</li>
                        <li><code>p</code> - Print</li>
                        <li><code>i\</code> - Insert</li>
                        <li><code>a\</code> - Append</li>
                        <li><code>c\</code> - Change</li>
                    </ul>
                </div>
                <div>
                    <h3>Awk Built-ins</h3>
                    <ul>
                        <li><code>$0</code> - Entire line</li>
                        <li><code>$1, $2...</code> - Fields</li>
                        <li><code>NF</code> - Number of fields</li>
                        <li><code>NR</code> - Line number</li>
                        <li><code>FS</code> - Field separator</li>
                        <li><code>OFS</code> - Output separator</li>
                    </ul>
                </div>
            </div>
            <br>
            <div class="info-box">
                <strong>üí° Pro Tip:</strong> Use sed for simple line-based operations and awk for column-based data processing. Combine them in pipelines for powerful text processing workflows!
            </div>
        </div>
        
    </main>

    <footer>
        <p>&copy; 2025 Bash Scripting Guide. Learn, Practice, Master. üöÄ</p>
    </footer>
    <script>hljs.highlightAll();</script>
    <script>
        // Add smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Add animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'opacity 0.6s, transform 0.6s';
            observer.observe(card);
        });
    </script>
</body>
</html>